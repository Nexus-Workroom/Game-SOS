[gd_scene load_steps=15 format=3 uid="uid://dgvj4u6bcopr7"]

[ext_resource type="Texture2D" uid="uid://b3cboqvq2at1s" path="res://game_tscn/chapter1/level_1/HOME户型一览.png" id="1_khnm8"]
[ext_resource type="PackedScene" uid="uid://b23pgf5mo54qp" path="res://npc_scences/player.tscn" id="2_apvge"]
[ext_resource type="Script" path="res://Scences/pause_menu.gd" id="3_vi2to"]
[ext_resource type="Theme" uid="uid://3d1vsjlnhej3" path="res://GUI/pause_theme.tres" id="4_07jky"]
[ext_resource type="Texture2D" uid="uid://bcxbfcq20g4jr" path="res://GUI/use/mr/button_one.png" id="5_maxdb"]
[ext_resource type="Texture2D" uid="uid://ctsgn38vyss2t" path="res://GUI/use/an/button_one_an.png" id="6_63auy"]
[ext_resource type="Texture2D" uid="uid://dr25v7bixfq2v" path="res://GUI/use/xuan/button_one_xuan.png" id="7_44eic"]
[ext_resource type="Texture2D" uid="uid://dp1yjesp4khly" path="res://暂停.png" id="8_h180v"]
[ext_resource type="Script" path="res://game_script/chapter1/leve_1/Transition_Zone.gd" id="9_i3llb"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_rfnl7"]
distance = 21.0

[sub_resource type="SegmentShape2D" id="SegmentShape2D_y3dbj"]
a = Vector2(-13, -386)
b = Vector2(-11.7883, 602.624)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aqjri"]
size = Vector2(825.5, 1852)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jn84u"]
size = Vector2(302.5, 703)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pjdt0"]
size = Vector2(30, 252)

[node name="Node2D" type="Node2D"]

[node name="Home户型一览" type="Sprite2D" parent="."]
position = Vector2(-993, -846)
scale = Vector2(0.556358, 0.556358)
texture = ExtResource("1_khnm8")
metadata/_edit_lock_ = true

[node name="player" parent="." instance=ExtResource("2_apvge")]

[node name="Camera2D" type="Camera2D" parent="player"]
position = Vector2(1, 3)
offset = Vector2(0, -9.2)
zoom = Vector2(0.625, 0.625)

[node name="Boundary" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="big" type="Node2D" parent="Boundary"]

[node name="up" type="StaticBody2D" parent="Boundary/big"]
position = Vector2(-1105, -3076)

[node name="CollisionShape2D1" type="CollisionShape2D" parent="Boundary/big/up"]
position = Vector2(13, -30)
rotation = 3.14159
shape = SubResource("WorldBoundaryShape2D_rfnl7")

[node name="right" type="StaticBody2D" parent="Boundary/big"]
position = Vector2(369, 29)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Boundary/big/right"]
position = Vector2(11, -11)
rotation = -1.5708
shape = SubResource("WorldBoundaryShape2D_rfnl7")

[node name="left" type="StaticBody2D" parent="Boundary/big"]
position = Vector2(-2349, -1240)

[node name="4" type="CollisionShape2D" parent="Boundary/big/left"]
position = Vector2(33, 3)
rotation = 1.5708
shape = SubResource("WorldBoundaryShape2D_rfnl7")

[node name="down" type="StaticBody2D" parent="Boundary/big"]
position = Vector2(-759, 364)

[node name="3" type="CollisionShape2D" parent="Boundary/big/down"]
position = Vector2(13, 13.9999)
shape = SubResource("WorldBoundaryShape2D_rfnl7")

[node name="wall" type="Node2D" parent="Boundary"]

[node name="wall3" type="StaticBody2D" parent="Boundary/wall"]
position = Vector2(-2986, -508)

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Boundary/wall/wall3"]
process_mode = 3
position = Vector2(2977, -288)
rotation = 1.57642
scale = Vector2(9.07999, 1.76)
shape = SubResource("SegmentShape2D_y3dbj")

[node name="wall2" type="StaticBody2D" parent="Boundary/wall"]
position = Vector2(-1059, -243)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Boundary/wall/wall2"]
position = Vector2(-1, 0)
shape = SubResource("SegmentShape2D_y3dbj")

[node name="wall4" type="StaticBody2D" parent="Boundary/wall"]

[node name="CollisionShape2D1" type="CollisionShape2D" parent="Boundary/wall/wall4"]
position = Vector2(-1890, 5)
shape = SubResource("RectangleShape2D_aqjri")

[node name="wall1" type="StaticBody2D" parent="Boundary/wall"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundary/wall/wall1"]
position = Vector2(299.25, -2748.5)
shape = SubResource("RectangleShape2D_jn84u")

[node name="PauseUI" type="CanvasLayer" parent="." node_paths=PackedStringArray("pause_panel")]
process_mode = 3
script = ExtResource("3_vi2to")
pause_panel = NodePath("Control/PausePanel")

[node name="Control" type="Control" parent="PauseUI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("4_07jky")
metadata/_edit_lock_ = true

[node name="PauseButton" type="TextureButton" parent="PauseUI/Control"]
visible = false
layout_mode = 1
offset_left = 1638.0
offset_right = 4119.0
offset_bottom = 1098.0
scale = Vector2(0.113594, 0.113594)
texture_normal = ExtResource("5_maxdb")
texture_pressed = ExtResource("6_63auy")
texture_hover = ExtResource("7_44eic")

[node name="PausePanel" type="Panel" parent="PauseUI/Control"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -8.0
offset_bottom = -8.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_lock_ = true

[node name="暂停" type="Sprite2D" parent="PauseUI/Control/PausePanel"]
position = Vector2(411, 170)
scale = Vector2(0.644366, 0.644366)
texture = ExtResource("8_h180v")

[node name="ResumeButton" type="Button" parent="PauseUI/Control/PausePanel"]
layout_mode = 0
offset_left = 97.0
offset_top = 364.0
offset_right = 427.0
offset_bottom = 514.0
text = "继续游戏"

[node name="QuitButton" type="Button" parent="PauseUI/Control/PausePanel"]
layout_mode = 0
offset_left = 88.0
offset_top = 554.0
offset_right = 414.0
offset_bottom = 706.0
text = "退出游戏"

[node name="TransitionZone" type="Area2D" parent="."]
script = ExtResource("9_i3llb")

[node name="CollisionShape2D" type="CollisionShape2D" parent="TransitionZone"]
position = Vector2(-2293, -2170)
shape = SubResource("RectangleShape2D_pjdt0")

[connection signal="pressed" from="PauseUI/Control/PauseButton" to="PauseUI" method="pause"]
[connection signal="pressed" from="PauseUI/Control/PausePanel/ResumeButton" to="PauseUI" method="unpause"]
[connection signal="pressed" from="PauseUI/Control/PausePanel/QuitButton" to="PauseUI" method="quit_game"]
[connection signal="body_entered" from="TransitionZone" to="player" method="_on_transition_zone_body_entered"]
